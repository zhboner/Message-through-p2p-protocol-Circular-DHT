# Message-through-p2p-protocol-Circular-DHT
peers form a connected network at all time. A complication that a P2P network can be able to deal with is that peers can join and leave the network at any time. For example, if a peer leaves the network suddenly (because it has crashed), then the remaining peers will try to keep a connected network without this peer.

# Principle of this program
The program is running with 6 threads, in which 4 threads for UDP and 2 for TCP. In UDP part, each peer has its own identity and 2 successors. Each peer sends “Request” message to its two successors every 3 seconds and once it received “Request” message, peer will send a “Response” message back. Each time that a peer sends or receives a message, it will display a message on the screen. Once peer receive a “Response” message, peer will know its successor is alive. As UDP is an unreliable protocol, each peer is designed to tolerate the possible loss of packets. Each peer sends ping messages every 3 seconds and it will not regard a peer in “no longer alive” state if it received a response in later 3 ping request messages. In other words, a peer will send 4 ping messages in 12 seconds and if it received 1 response, its successor is regarded alive. Otherwise, the peer will send messages to its successor to ask for next successor. 
